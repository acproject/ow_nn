cmake_minimum_required(VERSION 3.16)

# 添加基准测试可执行文件
add_executable(benchmark_matmul benchmark_matmul.cpp)

# 设置C++标准
target_compile_features(benchmark_matmul PRIVATE cxx_std_17)

# 添加编译选项
if(MSVC)
    target_compile_options(benchmark_matmul PRIVATE /O2 /arch:AVX2 /openmp)
else()
    target_compile_options(benchmark_matmul PRIVATE -O3 -march=native -fopenmp)
    target_link_libraries(benchmark_matmul PRIVATE -fopenmp)
endif()

# 包含头文件目录
target_include_directories(benchmark_matmul PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})